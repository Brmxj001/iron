<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Responsive Admin Dashboard Template">
    <meta name="keywords" content="admin,dashboard">
    <meta name="author" content="stacks">
    <!-- The above 6 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title -->
    <title>Connect - Responsive Admin Dashboard Template</title>

    <!-- Styles -->
    <link
            href="https://fonts.googleapis.com/css?family=Lato:400,700,900&display=swap"
            rel="stylesheet">
    <link
            href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700&display=swap"
            rel="stylesheet">
    <link
            href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
            rel="stylesheet">
    <link th:href="@{/plugins/bootstrap/css/bootstrap.min.css}"
          href="../../assets/plugins/bootstrap/css/bootstrap.min.css"
          rel="stylesheet">
    <link th:href="@{/plugins/font-awesome/css/all.min.css}"
          href="../../assets/plugins/font-awesome/css/all.min.css"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/iron/css/box.css}">

    <!-- Theme Styles -->
    <link th:href="@{/css/connect.min.css}"
          href="../../assets/css/connect.min.css" rel="stylesheet">
    <link th:href="@{/css/admin4.css}" href="../../assets/css/admin4.css"
          rel="stylesheet">
    <link th:href="@{/css/dark_theme.css}"
          href="../../assets/css/dark_theme.css" rel="stylesheet">
    <link th:href="@{/css/custom.css}" href="../../assets/css/custom.css"
          rel="stylesheet">
    <link th:href="@{/iron/css/categories.css}" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link th:href="@{/fileinput/fileinput.css}" rel="stylesheet"/>
    <script th:src="@{/fileinput/fileinput.js}"></script>
    <script th:src="@{/fileinput/zh.js}"></script>
    <script th:src="@{/plugins/jquery/jquery-3.4.1.min.js}"
    ></script>

    <script th:src="@{/plugins/bootstrap/js/bootstrap.min.js}"
    ></script>
    <script th:src="@{/plugins/jquery-slimscroll/jquery.slimscroll.min.js}"
    ></script>
    <script th:src="@{/plugins/jquery-sparkline/jquery.sparkline.min.js}"
    ></script>
    <script th:src="@{/plugins/apexcharts/dist/apexcharts.min.js}"
    ></script>
    <script th:src="@{/plugins/blockui/jquery.blockUI.js}"
    ></script>
    <script th:src="@{/plugins/flot/jquery.flot.min.js}"
    ></script>
    <script th:src="@{/plugins/flot/jquery.flot.time.min.js}"
    ></script>
    <script th:src="@{/plugins/flot/jquery.flot.symbol.min.js}"
    ></script>
    <script th:src="@{/plugins/flot/jquery.flot.resize.min.js}"></script>
    <script th:src="@{/plugins/flot/jquery.flot.tooltip.min.js}"
    ></script>
    <script th:src="@{/js/connect.min.js}"
    ></script>
    <script th:src="@{/js/pages/dashboard.js}"
    ></script>
    <script
            th:src="@{/js/pages/mailbox.js}"></script>

</head>
<body>
<div th:replace="back/include::modal" id="modal"></div>
<div class='loader'>
    <div class='spinner-grow text-primary' role='status'>
        <span class='sr-only'>Loading...</span>
    </div>
</div>
<div class="connect-container align-content-stretch d-flex flex-wrap">
    <div th:replace="back/include::left" id="left"></div>
    <div class="page-container">
        <div class="page-content">

            <div class="main-wrapper">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="card">
                            <div class="card-body">
                                <ul class="mailbox-menu list-unstyled">
                                    <li><a href="/iron/back/blogPage"
                                           th:class="${current == 'blogPage'}?active:' '">Blog<span
                                            class="badge badge-pill badge-success float-right">[[${catSize}]]</span></a>
                                    </li>
                                    <li><a href="/iron/back/addBlogPage"
                                           th:class="${current == 'addBlogPage'}?active:' '">添加Blog<span
                                            class="badge badge-pill badge-warning float-right">[[${proSize}]]</span></a>
                                    </li>

                                </ul>

                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div class="card">
                            <div class="card-body">
                                <table class="table table-striped">
                                    <thead>
                                    <th>属性</th>
                                    <th>属性值</th>
                                    <th></th>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td><span>Blog Name</span></td>
                                        <td><input type="text" id="name" placeholder="点击输入"
                                                   class="form-control"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><span>Blog Name(English)</span></td>
                                        <td><input type="text" id="nameEn" placeholder="点击输入"
                                                   class="form-control"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><span>Blog 简介</span></td>
                                        <td><input type="text" id="intro" placeholder="点击输入"
                                                   class="form-control"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><span>Blog 简介(English)</span></td>
                                        <td><input type="text" id="introEn" placeholder="点击输入"
                                                   class="form-control"/></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Blog照片 </td>
                                        <td width="60%">
                                            <div id="ImgBox"></div>
                                        </td>
                                        <td><span id="BoxButton">点击添加780 × 520</span></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td><span id="loadInfo"></span></td>
                                        <td>
                                            <button class="btn btn-danger" id="submit">提交</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <input class="hidden" type="file" name="file" id="BoxInput"
                                       accept="image/*"/>
                                <div th:replace="back/CommonInclude::url"></div>
                                <div th:replace="back/CommonInclude::common"></div>
                                <div th:replace="back/include::showImgModal"></div>
                                <script type="text/javascript" th:inline="javascript">
                                    let box = Box.instance($("#BoxButton"), $("#BoxInput"), $("#ImgBox"))
                                    box.init()
                                    $("#submit").click(function () {
                                        $(this).removeAttr("id")
                                        let formData = new FormData();
                                        fromData_append(formData, "name", getVal("#name"))
                                        fromData_append(formData, "nameEn", getVal("#nameEn"))
                                        fromData_append(formData, "intro", getVal("#intro"))
                                        fromData_append(formData, "introEn", getVal("#introEn"))
                                        fromData_appentFile(formData, box.FileList)
                                        if (formData_isNull(formData)) {
                                            return alert("不能为空")
                                        }
                                        if (box.SrcList.length <= 0) {
                                            return alert("添加照片")
                                        }
                                        fromData_appentFile(formData,box.FileList);
                                        showLoadInfo("#loadInfo")
                                        postRequest(addBlogUrl(), formData)
                                        setValNull("#loadInfo")
                                        alert("添加成功")
                                        location.reload()

                                    })


                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div th:replace="back/include::foot"></div>
    </div>


</div>
<div class="mailbox-compose-overlay"></div>
<div class="mailbox-item-overlay"></div>
</body>
</html>