var statIdName="ymcart_vid";function collectSetCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+((expiredays==null)?"":";expires="+exdate.toGMTString())+";path=/"}function collectGetCookie(c_name){if(document.cookie.length>0){c_start=document.cookie.indexOf(c_name+"=");if(c_start!=-1){c_start=c_start+c_name.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""}function getTimestamp(){var timestamp=Date.parse(new Date());return timestamp}function genStatId(){var cookieId=getTimestamp();cookieId="vid"+"-"+cookieId+"-"+Math.round(Math.random()*3000000000);return cookieId}function setStatId(){var cookieId=genStatId();collectSetCookie(statIdName,cookieId,365)}function getStatId(){var statId=collectGetCookie(statIdName);if(statId!=null&&statId.length>0){return statId}else{setStatId();return getStatId()}}function ymcart_collect(page_type,page_base_name,ymcart_user_id,ymcart_data_id,ymcart_data_number,ymcart_data_text){var url=window.location.href;var pre_url=document.referrer;var domain_name=window.location.host;var visit_uid=getStatId();if(typeof(ymcart_data_id)=="undefined"){var ymcart_data_id=0}if(typeof(ymcart_user_id)=="undefined"){var ymcart_user_id=0}if(typeof(ymcart_data_number)=="undefined"){var ymcart_data_number=0}if(typeof(ymcart_data_text)=="undefined"){var ymcart_data_text=""}var js_url="//"+ymcart_analysis+"/get?store_id="+ymcart_store_id+"&time_zone="+encodeURIComponent(ymcart_time_zone)+"&domain_name="+escape(domain_name)+"&url="+escape(url)+"&pre_url="+escape(pre_url)+"&page_type="+page_type+"&base_name="+encodeURIComponent(page_base_name)+"&user_id="+ymcart_user_id+"&data_id="+parseInt(ymcart_data_id)+"&vid="+visit_uid+"&data_number="+ymcart_data_number+"&data_text="+ymcart_data_text+"&rnd="+Math.random();try{var oHead=document.getElementsByTagName("HEAD")[0];var oScript=document.createElement("script");oScript.async=true;oScript.charset="utf-8";oScript.type="text/javascript";oScript.src=js_url;oHead.appendChild(oScript)}catch(e){console.log("ymcart_analysis load error")}}function exec_ymcart_collect(){if(typeof(window.ymcartDataLayer)!="undefined"&&window.ymcartDataLayer.length>0){for(var index=0;index<window.ymcartDataLayer.length;index++){ymcart_collect.apply(this,window.ymcartDataLayer[index])}}window.ymcartDataLayer=[]}setInterval("exec_ymcart_collect()",300);